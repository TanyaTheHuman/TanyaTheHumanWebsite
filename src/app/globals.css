@import "tailwindcss";

@theme {
  --color-cream: #EAE8E1;
  --color-ink: #1a1a1a;
  --color-border: #C5C5BA;
  --color-mustard-50: #EBE5D5;
  --color-mustard-100: #EDE1BF;
  --color-mustard-200: #F5E0A9;
  --color-mustard-300: #F5D171;
  --color-mustard-400: #E0BA55;
  --color-mustard-500: #C09E46;
  --color-mustard-600: #A38535;
  --color-mustard-700: #826A2C;
  --color-mustard-800: #63501E;
  --color-mustard-900: #463813;
  --color-mustard-950: #1E190B;
}

@theme inline {
  --font-serif: var(--font-eb-garamond), Georgia, serif;
}

body {
  font-feature-settings: "dlig" 1, "hlig" 1, "fina" 1, "kern" 1, "rlig" 1;
}

.frame {
  margin: 32px;
  display: flex;
  flex-direction: column;
  border: 1px solid #C5C5BA;
}

.frame.hero {
  min-height: auto;
  height: auto;
}

.border-row {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem 0;
}

.border-row.top {
  margin-top: -1px;
  padding-top: 0;
}

.border-row.bottom {
  margin-bottom: -1px;
  padding-bottom: 0;
}

.border-text {
  font-size: 0.875rem;
  white-space: nowrap;
  padding: 0 1rem;
  background: #EAE8E1;
  position: relative;
}

.border-row.top .border-text {
  top: -9px;
}

.border-row.bottom .border-text {
  bottom: -9px;
}

.main-heading {
  font-size: 64px;
  line-height: 62px;
}

@media (min-width: 641px) {
  .main-heading {
    font-size: 154px;
    line-height: 154px;
  }
}

/* Clue list sticky headers with scroll-aware border */
.clue-list-header {
  /* Shadow acts as border - only visible when content scrolls underneath */
  box-shadow: 0 1px 0 0 transparent;
  transition: box-shadow 0.15s ease;
}

/* Use a scroll-driven approach: the shadow becomes visible via the scrolling container */
.clue-list-scrolled .clue-list-header {
  box-shadow: 0 1px 0 0 var(--stone-800, #292524);
}

/* Hide scrollbars on clue lists while keeping scroll functionality */
.clue-list-container {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE and Edge */
  position: relative;
}

.clue-list-container::-webkit-scrollbar {
  display: none; /* Chrome, Safari, Opera */
}

/* Gradient fade at bottom of clue lists */
.clue-list-container::after {
  content: "";
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  height: 48px;
  display: block;
  pointer-events: none;
  background: linear-gradient(180deg, rgba(234, 232, 225, 0.00) -109.3%, rgba(234, 232, 225, 0.90) 100%);
}

/* Below md (< 768px): hide clue lists entirely */
@media (max-width: 767px) {
  .clue-lists {
    display: none;
  }
}

/* md to lg (768px - 1023px): stack clue lists vertically and split height to match grid */
@media (min-width: 768px) and (max-width: 1023px) {
  .clue-lists {
    height: 783px; /* Match crossword grid (707px) + highlighted clue (~60px) + margin (16px) */
  }

  .clue-lists .clue-list-container {
    flex: 1;
    min-height: 0; /* Allow flex items to shrink so inner scrolling works */
    max-height: none; /* Parent controls the height */
  }

  .clue-lists .across-clue-list {
    border-bottom: 1px solid var(--stone-800, #292524);
  }
}

/* Mobile only: clue fixed to bottom of viewport when cell selected */
@media (max-width: 768px) {
  .highlighted-clue {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    width: 100%;
    margin: 0;
    border-radius: 0;
    padding: 12px 24px;
    box-sizing: border-box;
  }

  .crossword-section-clue-visible {
    padding-bottom: 120px;
  }
}

/* Crossword cell default size (31x31px) */
.crossword-cell {
  width: 31px !important;
  height: 31px !important;
}

.crossword-cell-svg {
  width: 31px !important;
  height: 31px !important;
}

/* Below sm (< 640px): smaller crossword cells (23x23px) */
@media (max-width: 639px) {
  .crossword-cell {
    width: 23px !important;
    height: 23px !important;
    touch-action: manipulation; /* Removes tap delay, prevents double-tap zoom */
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.08s ease;
  }

  .crossword-cell:active {
    transform: scale(0.92);
  }

  .crossword-cell-svg {
    width: 23px !important;
    height: 23px !important;
  }

  .crossword-cell-letter {
    font-size: 13px !important;
  }

  .crossword-cell-number {
    font-size: 8px !important;
  }
}

